<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
<meta charset="utf-8">
<title>Sutra » \fSchema</title>
<meta name="author" content="Mike van Riel">
<meta name="description" content="">
<link href="../css/template.css" rel="stylesheet" media="all">
<script src="../js/jquery-1.7.1.min.js" type="text/javascript"></script><script src="../js/jquery-ui-1.8.2.custom.min.js" type="text/javascript"></script><script src="../js/jquery.mousewheel.min.js" type="text/javascript"></script><script src="../js/bootstrap.js" type="text/javascript"></script><script src="../js/template.js" type="text/javascript"></script><script src="../js/prettify/prettify.min.js" type="text/javascript"></script><link rel="shortcut icon" href="../img/favicon.ico">
<link rel="apple-touch-icon" href="../img/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="72x72" href="../img/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="114x114" href="../img/apple-touch-icon-114x114.png">
</head>
<body>
<div class="navbar navbar-fixed-top">
<div class="navbar-inner"><div class="container">
<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a><a class="brand" href="../index.html">Sutra</a><div class="nav-collapse"><ul class="nav">
<li class="dropdown">
<a href="#api" class="dropdown-toggle" data-toggle="dropdown">
                                    API Documentation <b class="caret"></b></a><ul class="dropdown-menu">
<li><a>Packages</a></li>
<li><a href="../packages/Flourish.html"><i class="icon-folder-open"></i> Flourish</a></li>
<li><a href="../packages/Sutra.html"><i class="icon-folder-open"></i> Sutra</a></li>
</ul>
</li>
<li class="dropdown" id="charts-menu">
<a href="#charts" class="dropdown-toggle" data-toggle="dropdown">
                                    Charts <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="../graph_class.html"><i class="icon-list-alt"></i> Class hierarchy diagram</a></li></ul>
</li>
<li class="dropdown" id="reports-menu">
<a href="#reports" class="dropdown-toggle" data-toggle="dropdown">
                                    Reports <b class="caret"></b></a><ul class="dropdown-menu">
<li><a href="../errors.html"><i class="icon-remove-sign"></i> Errors 
                <span class="label label-info">269</span></a></li>
<li><a href="../markers.html"><i class="icon-map-marker"></i> Markers 
                <ul><li>todo 
                <span class="label label-info">2</span>
</li></ul></a></li>
<li><a href="../deprecated.html"><i class="icon-stop"></i> Deprecated elements 
                <span class="label label-info">0</span></a></li>
</ul>
</li>
</ul></div>
</div></div>
<div class="go_to_top"><a href="#___" style="color: inherit">Back to top  <i class="icon-upload icon-white"></i></a></div>
</div>
<div id="___" class="container">
<noscript><div class="alert alert-warning">
                            Javascript is disabled; several features are only available
                            if Javascript is enabled.
                        </div></noscript>
<div class="row">
<div class="span4">
<span class="btn-group visibility" data-toggle="buttons-checkbox"><button class="btn public active" title="Show public elements">Public</button><button class="btn protected" title="Show protected elements">Protected</button><button class="btn private" title="Show private elements">Private</button><button class="btn inherited active" title="Show inherited elements">Inherited</button></span><div class="btn-group view pull-right" data-toggle="buttons-radio">
<button class="btn details" title="Show descriptions and method names"><i class="icon-list"></i></button><button class="btn simple" title="Show only method names"><i class="icon-align-justify"></i></button>
</div>
<ul class="side-nav nav nav-list">
<li class="nav-header">
<i class="icon-custom icon-method"></i> Methods
                    <ul>
<li class="method public "><a href="#method___construct" title="__construct :: Sets the database"><span class="description">Sets the database</span><pre>__construct()</pre></a></li>
<li class="method public "><a href="#method_enableCaching" title="enableCaching :: Sets the schema to be cached to the fCache object specified"><span class="description">Sets the schema to be cached to the fCache object specified</span><pre>enableCaching()</pre></a></li>
<li class="method public "><a href="#method_getColumnInfo" title="getColumnInfo :: Returns column information for the table specified"><span class="description">Returns column information for the table specified</span><pre>getColumnInfo()</pre></a></li>
<li class="method public "><a href="#method_getDatabases" title="getDatabases :: Returns the databases on the current server"><span class="description">Returns the databases on the current server</span><pre>getDatabases()</pre></a></li>
<li class="method public "><a href="#method_getKeys" title="getKeys :: Returns a list of primary key, foreign key and unique key constraints for the table specified"><span class="description">Returns a list of primary key, foreign key and unique key constraints for the table specified</span><pre>getKeys()</pre></a></li>
<li class="method public "><a href="#method_getRelationships" title="getRelationships :: Returns a list of one-to-one, many-to-one, one-to-many and many-to-many relationships for the table specified"><span class="description">Returns a list of one-to-one, many-to-one, one-to-many and many-to-many relationships for the table specified</span><pre>getRelationships()</pre></a></li>
<li class="method public "><a href="#method_getTables" title="getTables :: Returns the tables in the current database"><span class="description">Returns the tables in the current database</span><pre>getTables()</pre></a></li>
<li class="method public "><a href="#method_setColumnInfoOverride" title="setColumnInfoOverride :: Allows overriding of column info"><span class="description">Allows overriding of column info</span><pre>setColumnInfoOverride()</pre></a></li>
<li class="method public "><a href="#method_setKeysOverride" title="setKeysOverride :: Allows overriding of key info."><span class="description">Allows overriding of key info.</span><pre>setKeysOverride()</pre></a></li>
</ul>
</li>
<li class="nav-header private">» Private
                    <ul>
<li class="method private "><a href="#method_checkForSingleColumnUniqueKey" title="checkForSingleColumnUniqueKey :: Checks to see if a column is part of a single-column `UNIQUE` key"><span class="description">Checks to see if a column is part of a single-column `UNIQUE` key</span><pre>checkForSingleColumnUniqueKey()</pre></a></li>
<li class="method private "><a href="#method_determineTableCreationOrder" title="determineTableCreationOrder :: Returns an ordered array of table names, in a valid table creation order"><span class="description">Returns an ordered array of table names, in a valid table creation order</span><pre>determineTableCreationOrder()</pre></a></li>
<li class="method private "><a href="#method_fetchColumnInfo" title="fetchColumnInfo :: Gets the column info from the database for later access"><span class="description">Gets the column info from the database for later access</span><pre>fetchColumnInfo()</pre></a></li>
<li class="method private "><a href="#method_fetchDB2ColumnInfo" title="fetchDB2ColumnInfo :: Gets the column info from a DB2 database"><span class="description">Gets the column info from a DB2 database</span><pre>fetchDB2ColumnInfo()</pre></a></li>
<li class="method private "><a href="#method_fetchDB2Keys" title="fetchDB2Keys :: Fetches the key info for a DB2 database"><span class="description">Fetches the key info for a DB2 database</span><pre>fetchDB2Keys()</pre></a></li>
<li class="method private "><a href="#method_fetchKeys" title="fetchKeys :: Gets the `PRIMARY KEY`, `FOREIGN KEY` and `UNIQUE` key constraints from the database"><span class="description">Gets the `PRIMARY KEY`, `FOREIGN KEY` and `UNIQUE` key constraints from the database</span><pre>fetchKeys()</pre></a></li>
<li class="method private "><a href="#method_fetchMSSQLColumnInfo" title="fetchMSSQLColumnInfo :: Gets the column info from a MSSQL database"><span class="description">Gets the column info from a MSSQL database</span><pre>fetchMSSQLColumnInfo()</pre></a></li>
<li class="method private "><a href="#method_fetchMSSQLKeys" title="fetchMSSQLKeys :: Fetches the key info for an MSSQL database"><span class="description">Fetches the key info for an MSSQL database</span><pre>fetchMSSQLKeys()</pre></a></li>
<li class="method private "><a href="#method_fetchMySQLColumnInfo" title="fetchMySQLColumnInfo :: Gets the column info from a MySQL database"><span class="description">Gets the column info from a MySQL database</span><pre>fetchMySQLColumnInfo()</pre></a></li>
<li class="method private "><a href="#method_fetchMySQLKeys" title="fetchMySQLKeys :: Fetches the keys for a MySQL database"><span class="description">Fetches the keys for a MySQL database</span><pre>fetchMySQLKeys()</pre></a></li>
<li class="method private "><a href="#method_fetchOracleColumnInfo" title="fetchOracleColumnInfo :: Gets the column info from an Oracle database"><span class="description">Gets the column info from an Oracle database</span><pre>fetchOracleColumnInfo()</pre></a></li>
<li class="method private "><a href="#method_fetchOracleKeys" title="fetchOracleKeys :: Fetches the key info for an Oracle database"><span class="description">Fetches the key info for an Oracle database</span><pre>fetchOracleKeys()</pre></a></li>
<li class="method private "><a href="#method_fetchPostgreSQLColumnInfo" title="fetchPostgreSQLColumnInfo :: Gets the column info from a PostgreSQL database"><span class="description">Gets the column info from a PostgreSQL database</span><pre>fetchPostgreSQLColumnInfo()</pre></a></li>
<li class="method private "><a href="#method_fetchPostgreSQLKeys" title="fetchPostgreSQLKeys :: Fetches the key info for a PostgreSQL database"><span class="description">Fetches the key info for a PostgreSQL database</span><pre>fetchPostgreSQLKeys()</pre></a></li>
<li class="method private "><a href="#method_fetchSQLiteColumnInfo" title="fetchSQLiteColumnInfo :: Gets the column info from a SQLite database"><span class="description">Gets the column info from a SQLite database</span><pre>fetchSQLiteColumnInfo()</pre></a></li>
<li class="method private "><a href="#method_fetchSQLiteKeys" title="fetchSQLiteKeys :: Fetches the key info for an SQLite database"><span class="description">Fetches the key info for an SQLite database</span><pre>fetchSQLiteKeys()</pre></a></li>
<li class="method private "><a href="#method_findManyToManyRelationships" title="findManyToManyRelationships :: Finds many-to-many relationship for the table specified"><span class="description">Finds many-to-many relationship for the table specified</span><pre>findManyToManyRelationships()</pre></a></li>
<li class="method private "><a href="#method_findOneToManyRelationships" title="findOneToManyRelationships :: Finds one-to-many relationship for the table specified"><span class="description">Finds one-to-many relationship for the table specified</span><pre>findOneToManyRelationships()</pre></a></li>
<li class="method private "><a href="#method_findRelationships" title="findRelationships :: Finds the one-to-one, many-to-one, one-to-many and many-to-many relationships in the database"><span class="description">Finds the one-to-one, many-to-one, one-to-many and many-to-many relationships in the database</span><pre>findRelationships()</pre></a></li>
<li class="method private "><a href="#method_findStarToOneRelationships" title="findStarToOneRelationships :: Finds one-to-one and many-to-one relationship for the table specified"><span class="description">Finds one-to-one and many-to-one relationship for the table specified</span><pre>findStarToOneRelationships()</pre></a></li>
<li class="method private "><a href="#method_isJoiningTable" title="isJoiningTable :: Determines if a table is a joining table"><span class="description">Determines if a table is a joining table</span><pre>isJoiningTable()</pre></a></li>
<li class="method private "><a href="#method_makeCachePrefix" title="makeCachePrefix :: Creates a unique cache prefix to help prevent cache conflicts"><span class="description">Creates a unique cache prefix to help prevent cache conflicts</span><pre>makeCachePrefix()</pre></a></li>
<li class="method private "><a href="#method_mergeColumnInfo" title="mergeColumnInfo :: Merges the column info with the column info override"><span class="description">Merges the column info with the column info override</span><pre>mergeColumnInfo()</pre></a></li>
<li class="method private "><a href="#method_mergeKeys" title="mergeKeys :: Merges the keys with the keys override"><span class="description">Merges the keys with the keys override</span><pre>mergeKeys()</pre></a></li>
</ul>
</li>
<li class="nav-header">
<i class="icon-custom icon-property"></i> Properties
                    <ul></ul>
</li>
<li class="nav-header private">» Private
                    <ul>
<li class="property private "><a href="#property_cache" title="$cache :: The place to cache to"><span class="description">The place to cache to</span><pre>$cache</pre></a></li>
<li class="property private "><a href="#property_cache_prefix" title="$cache_prefix :: The cache prefix to use for cache entries"><span class="description">The cache prefix to use for cache entries</span><pre>$cache_prefix</pre></a></li>
<li class="property private "><a href="#property_column_info" title="$column_info :: The cached column info"><span class="description">The cached column info</span><pre>$column_info</pre></a></li>
<li class="property private "><a href="#property_column_info_override" title="$column_info_override :: The column info to override"><span class="description">The column info to override</span><pre>$column_info_override</pre></a></li>
<li class="property private "><a href="#property_database" title="$database :: A reference to an instance of the fDatabase class"><span class="description">A reference to an instance of the fDatabase class</span><pre>$database</pre></a></li>
<li class="property private "><a href="#property_databases" title="$databases :: The databases on the current database server"><span class="description">The databases on the current database server</span><pre>$databases</pre></a></li>
<li class="property private "><a href="#property_keys" title="$keys :: The cached key info"><span class="description">The cached key info</span><pre>$keys</pre></a></li>
<li class="property private "><a href="#property_keys_override" title="$keys_override :: The key info to override"><span class="description">The key info to override</span><pre>$keys_override</pre></a></li>
<li class="property private "><a href="#property_merged_column_info" title="$merged_column_info :: The merged column info"><span class="description">The merged column info</span><pre>$merged_column_info</pre></a></li>
<li class="property private "><a href="#property_merged_keys" title="$merged_keys :: The merged key info"><span class="description">The merged key info</span><pre>$merged_keys</pre></a></li>
<li class="property private "><a href="#property_relationships" title="$relationships :: The relationships in the database"><span class="description">The relationships in the database</span><pre>$relationships</pre></a></li>
<li class="property private "><a href="#property_tables" title="$tables :: The tables in the database"><span class="description">The tables in the database</span><pre>$tables</pre></a></li>
</ul>
</li>
</ul>
</div>
<div class="span8">
<a id="\fSchema"></a><ul class="breadcrumb">
<li>
<a href="../index.html"><i class="icon-custom icon-class"></i></a><span class="divider">\</span>
</li>
<li><a href="../namespaces/global.html">global</a></li>
<li class="active">
<span class="divider">\</span><a href="../classes/fSchema.html">fSchema</a>
</li>
</ul>
<div class="element class">
<p class="short_description">Gets schema information for the selected database</p>
<div class="details">
<div class="long_description"></div>
<table class="table table-bordered">
<tr>
<th>copyright</th>
<td>Copyright (c) 2007-2012 Will Bond</td>
</tr>
<tr>
<th>author</th>
<td><a href="mailto:will@flourishlib.com">Will Bond [wb]</a></td>
</tr>
<tr>
<th>license</th>
<td><a href="http://flourishlib.com/license">http://flourishlib.com/license</a></td>
</tr>
<tr>
<th>package</th>
<td><a href="../packages/Flourish.html">Flourish</a></td>
</tr>
<tr>
<th>link</th>
<td><a href="http://flourishlib.com/fSchema">http://flourishlib.com/fSchema</a></td>
</tr>
<tr>
<th>version</th>
<td>1.0.0b51</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b51  Fixed handling of getting tables in table creation order when a table references itself, fixed default value detection for the last column in a MySQL table [wb, 2012-01-12]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b50  Fixed detection of explicitly named SQLite foreign key constraints [wb, 2011-08-23]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b49  Added support for spatial/geometric data types in MySQL and PostgreSQL [wb, 2011-05-26]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b48  Fixed a bug with ::getTables() not working on MySQL 4.x, fixed ::getKeys() to always return a reset array [wb, 2011-05-24]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b47  Backwards Compatibility Break - ::getTables(), ::getColumnInfo(), ::getDatabases(), ::getKeys() and ::getRelationships() now return database, schema, table and column names in lowercase, added the `$creation_order` parameter to ::getTables(), fixed bugs with getting column and key information from MSSQL, Oracle and SQLite [wb, 2011-05-09]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b46  Enhanced SQLite schema detection to cover situations where `UNIQUE` constraints are defined separately from the table and when comments are used in `CREATE TABLE` statements [wb, 2011-02-06]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b45  Fixed Oracle auto incrementing detection to work with `INSERT OR UPDATE` triggers, fixed detection of dynamic default date/time/timestamp values for DB2 and Oracle [wb, 2010-12-04]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b44  Fixed the list of valid elements for ::getColumnInfo() [wb, 2010-11-28]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b43  Added the `comment` element to the information returned by ::getColumnInfo() [wb, 2010-11-28]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b42  Fixed a bug with MySQL detecting default `ON DELETE` clauses [wb, 2010-10-19]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b41  Fixed handling MySQL table names that require quoting [wb, 2010-08-24]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b40  Fixed bugs in the documentation and error message of ::getColumnInfo() about what are valid elements [wb, 2010-07-21]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b39  Fixed a regression where key detection SQL was not compatible with PostgreSQL 8.1 [wb, 2010-04-13]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b38  Added Oracle support to ::getDatabases() [wb, 2010-04-13]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b37  Fixed ::getDatabases() for MSSQL [wb, 2010-04-09]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b36  Fixed PostgreSQL to properly report explicit `NULL` default values via ::getColumnInfo() [wb, 2010-03-30]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b35  Added `max_length` values for various text and blob data types across all databases [wb, 2010-03-29]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b34  Added `min_value` and `max_value` attributes to ::getColumnInfo() to specify the valid range for numeric columns [wb, 2010-03-16]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b33  Changed it so that PostgreSQL unique indexes containing functions are ignored since they can't be properly detected at this point [wb, 2010-03-14]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b32  Fixed ::getTables() to not include views for MySQL [wb, 2010-03-14]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b31  Fixed the creation of the default caching key for ::enableCaching() [wb, 2010-03-02]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b30  Fixed the class to work with lower privilege Oracle accounts and added detection of Oracle number columns [wb, 2010-01-25]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b29  Added on_delete and on_update elements to one-to-one relationship info retrieved by ::getRelationships() [wb, 2009-12-16]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b28  Fixed a bug with detecting some multi-column unique constraints in SQL Server databases [wb, 2009-11-13]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b27  Added a parameter to ::enableCaching() to provide a key token that will allow cached values to be shared between multiple databases with the same schema [wb, 2009-10-28]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b26  Added the placeholder element to the output of ::getColumnInfo(), added support for PostgreSQL, MSSQL and Oracle "schemas", added support for parsing quoted SQLite identifiers [wb, 2009-10-22]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b25  One-to-one relationships utilizing the primary key as a foreign key are now properly detected [wb, 2009-09-22]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b24  Fixed MSSQL support to work with ODBC database connections [wb, 2009-09-18]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b23  Fixed a bug where one-to-one relationships were being listed as many-to-one [wb, 2009-07-21]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b22  PostgreSQL UNIQUE constraints that are created as indexes and not table constraints are now properly detected [wb, 2009-07-08]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b21  Added support for the UUID data type in PostgreSQL [wb, 2009-06-18]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b20  Add caching of merged info, improved performance of ::getColumnInfo() [wb, 2009-06-15]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b19  Fixed a couple of bugs with ::setKeysOverride() [wb, 2009-06-04]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b18  Added missing support for MySQL mediumint columns [wb, 2009-05-18]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b17  Fixed a bug with ::clearCache() not properly reseting the tables and databases list [wb, 2009-05-13]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b16  Backwards Compatibility Break - ::setCacheFile() changed to ::enableCaching() and now requires an fCache object, ::flushInfo() renamed to ::clearCache(), added Oracle support [wb, 2009-05-04]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b15  Added support for the three different types of identifier quoting in SQLite [wb, 2009-03-28]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b14  Added support for MySQL column definitions containing the COLLATE keyword [wb, 2009-03-28]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b13  Fixed a bug with detecting PostgreSQL columns having both a CHECK constraint and a UNIQUE constraint [wb, 2009-02-27]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b12  Fixed detection of multi-column primary keys in MySQL [wb, 2009-02-27]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b11  Fixed an issue parsing MySQL tables with comments [wb, 2009-02-25]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b10  Added the ::getDatabases() method [wb, 2009-02-24]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b9   Now detects unsigned and zerofill MySQL data types that do not have a parenthetical part [wb, 2009-02-16]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b8   Mapped the MySQL data type `'set'` to `'varchar'`, however valid values are not implemented yet [wb, 2009-02-01]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b7   Fixed a bug with detecting MySQL timestamp columns [wb, 2009-01-28]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b6   Fixed a bug with detecting MySQL columns that accept `NULL` [wb, 2009-01-19]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b5   ::setColumnInfo(): fixed a bug with not grabbing the real database schema first, made general improvements [wb, 2009-01-19]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b4   Added support for MySQL binary data types, numeric data type options unsigned and zerofill, and per-column character set definitions [wb, 2009-01-17]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b3   Fixed detection of the data type of MySQL timestamp columns, added support for dynamic default date/time values [wb, 2009-01-11]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b2   Fixed a bug with detecting multi-column unique keys in MySQL [wb, 2009-01-03]</td>
</tr>
<tr>
<th>changes</th>
<td>1.0.0b    The initial implementation [wb, 2007-09-25]</td>
</tr>
</table>
<h3>
<i class="icon-custom icon-method"></i> Methods</h3>
<a id="method___construct"></a><div class="element clickable method public method___construct" data-toggle="collapse" data-target=".method___construct .collapse">
<h2>Sets the database</h2>
<pre>__construct(<a href="../classes/fDatabase.html">\fDatabase</a> $database) : <a href="../classes/fSchema.html">\fSchema</a></pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$database</h4>
<code><a href="../classes/fDatabase.html">\fDatabase</a></code><p>The fDatabase instance</p></div>
<h3>Returns</h3>
<div class="subelement response"><code><a href="../classes/fSchema.html">\fSchema</a></code></div>
</div></div>
</div>
<a id="method_enableCaching"></a><div class="element clickable method public method_enableCaching" data-toggle="collapse" data-target=".method_enableCaching .collapse">
<h2>Sets the schema to be cached to the fCache object specified</h2>
<pre>enableCaching(<a href="../classes/fCache.html">\fCache</a> $cache, string $key_token) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$cache</h4>
<code><a href="../classes/fCache.html">\fCache</a></code><p>The cache to cache to</p></div>
<div class="subelement argument">
<h4>$key_token</h4>
<code>string</code><p>Internal use only! (this will be used in the cache key to uniquely identify the cache for this fSchema object)</p>
</div>
</div></div>
</div>
<a id="method_getColumnInfo"></a><div class="element clickable method public method_getColumnInfo" data-toggle="collapse" data-target=".method_getColumnInfo .collapse">
<h2>Returns column information for the table specified</h2>
<pre>getColumnInfo(string $table, string $column, string $element) : mixed</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>If only a table is specified, column info is in the following format:</p>

<p>{{{
array(
    (string) {column name} => array(
        'type'           => (string)  {data type},
        'placeholder'    => (string)  {fDatabase::escape() placeholder for this data type},
        'not_null'       => (boolean) {if value can't be null},
        'default'        => (mixed)   {the default value},
        'valid_values'   => (array)   {the valid values for a varchar field},
        'max_length'     => (integer) {the maximum length in a varchar field},
        'min_value'      => (numeric) {the minimum value for an integer/float field},
        'max_value'      => (numeric) {the maximum value for an integer/float field},
        'decimal_places' => (integer) {the number of decimal places for a decimal/numeric/money/smallmoney field},
        'auto_increment' => (boolean) {if the integer primary key column is a serial/autoincrement/auto_increment/indentity column},
        'comment'        => (string)  {the SQL comment/description for the column}
    ), ...
)
}}}</p>

<p>If a table and column are specified, column info is in the following format:</p>

<p>{{{
array(
    'type'           => (string)  {data type},
    'placeholder'    => (string)  {fDatabase::escape() placeholder for this data type},
    'not_null'       => (boolean) {if value can't be null},
    'default'        => (mixed)   {the default value-may contain special strings CURRENT_TIMESTAMP, CURRENT_TIME or CURRENT_DATE},
    'valid_values'   => (array)   {the valid values for a varchar field},
    'max_length'     => (integer) {the maximum length in a char/varchar field},
    'min_value'      => (fNumber) {the minimum value for an integer/float field},
    'max_value'      => (fNumber) {the maximum value for an integer/float field},
    'decimal_places' => (integer) {the number of decimal places for a decimal/numeric/money/smallmoney field},
    'auto_increment' => (boolean) {if the integer primary key column is a serial/autoincrement/auto_increment/indentity column},
    'comment'        => (string)  {the SQL comment/description for the column}
)
}}}</p>

<p>If a table, column and element are specified, returned value is the single element specified.</p>

<p>The <code>'type'</code> element is homogenized to a value from the following list:</p>

<ul>
<li><code>'varchar'</code></li>
<li><code>'char'</code></li>
<li><code>'text'</code></li>
<li><code>'integer'</code></li>
<li><code>'float'</code></li>
<li><code>'timestamp'</code></li>
<li><code>'date'</code></li>
<li><code>'time'</code></li>
<li><code>'boolean'</code></li>
<li><code>'blob'</code></li>
</ul>

<p>Please note that MySQL reports boolean data types as <code>tinyint(1)</code>, so
all <code>tinyint(1)</code> columns will be listed as <code>boolean</code>. This can be fixed
by calling:</p>

<p>{{{</p>

<h1>!php</h1>

<p>$schema->setColumnInfoOverride(
    array(
        'type'        => 'integer',
        'placeholder' => '%i',
        'default'     => {default integer},
        'min_value'   => new fNumber(-128),
        'max_value'   => new fNumber(127)
    ),
    '{table name}',
    '{column name}'
);
}}}</p>

<p>The <code>'comment'</code> element pulls from the database's column comment facility
with the exception of MSSQL and SQLite.</p>

<p>For MSSQL, the comment is pulled from the <code>MS_Description</code> extended
property, which can be added via the <code>Description</code> field in SQL Server
Management Studio, or via the <code>sp_addextendedproperty</code> stored procedure.</p>

<p>For SQLite, the comment is extracted from any SQL comment that is placed
at the end of the line on which the column is defined:</p>

<p>{{{</p>

<h1>!sql</h1>

<p>CREATE TABLE users (
    user_id INTEGER PRIMARY KEY AUTOINCREMENT,
    name VARCHAR(200) NOT NULL -- This is the full name
);
}}}</p>

<p>For the SQLite <code>users</code> table defined above, the <code>name</code> column will have
the comment <code>This is the full name</code>.</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$table</h4>
<code>string</code><p>The table to get the column info for</p></div>
<div class="subelement argument">
<h4>$column</h4>
<code>string</code><p>The column to get the info for</p></div>
<div class="subelement argument">
<h4>$element</h4>
<code>string</code><p>The element to return: <code>'type'</code>, <code>'placeholder'</code>, <code>'not_null'</code>, <code>'default'</code>, <code>'valid_values'</code>, <code>'max_length'</code>, <code>'min_value'</code>, <code>'max_value'</code>, <code>'decimal_places'</code>, <code>'auto_increment'</code>, <code>'comment'</code></p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>mixed</code>The column info for the table/column/element specified - see method description for format</div>
</div></div>
</div>
<a id="method_getDatabases"></a><div class="element clickable method public method_getDatabases" data-toggle="collapse" data-target=".method_getDatabases .collapse">
<h2>Returns the databases on the current server</h2>
<pre>getDatabases() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>The databases on the current server</div>
</div></div>
</div>
<a id="method_getKeys"></a><div class="element clickable method public method_getKeys" data-toggle="collapse" data-target=".method_getKeys .collapse">
<h2>Returns a list of primary key, foreign key and unique key constraints for the table specified</h2>
<pre>getKeys(string $table, string $key_type) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>The structure of the returned array is:</p>

<p>{{{
array(
     'primary' => array(
         {column name}, ...
     ),
     'unique'  => array(
         array(
             {column name}, ...
         ), ...
     ),
     'foreign' => array(
         array(
             'column'         => {column name},
             'foreign_table'  => {foreign table name},
             'foreign_column' => {foreign column name},
             'on_delete'      => {the ON DELETE action: 'no_action', 'restrict', 'cascade', 'set_null', or 'set_default'},
             'on_update'      => {the ON UPDATE action: 'no_action', 'restrict', 'cascade', 'set_null', or 'set_default'}
         ), ...
     )
)
}}}</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$table</h4>
<code>string</code><p>The table to return the keys for</p></div>
<div class="subelement argument">
<h4>$key_type</h4>
<code>string</code><p>The type of key to return: <code>'primary'</code>, <code>'foreign'</code>, <code>'unique'</code></p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>An array of all keys, or just the type specified - see method description for format</div>
</div></div>
</div>
<a id="method_getRelationships"></a><div class="element clickable method public method_getRelationships" data-toggle="collapse" data-target=".method_getRelationships .collapse">
<h2>Returns a list of one-to-one, many-to-one, one-to-many and many-to-many relationships for the table specified</h2>
<pre>getRelationships(string $table, string $relationship_type) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>The structure of the returned array is:</p>

<p>{{{
array(
    'one-to-one' => array(
        array(
            'table'          => (string) {the name of the table this relationship is for},
            'column'         => (string) {the column in the specified table},
            'related_table'  => (string) {the related table},
            'related_column' => (string) {the related column},
            'on_delete'      => (string) {the ON DELETE action: 'no_action', 'restrict', 'cascade', 'set_null', or 'set_default'},
            'on_update'      => (string) {the ON UPDATE action: 'no_action', 'restrict', 'cascade', 'set_null', or 'set_default'}
        ), ...
    ),
    'many-to-one' => array(
        array(
            'table'          => (string) {the name of the table this relationship is for},
            'column'         => (string) {the column in the specified table},
            'related_table'  => (string) {the related table},
            'related_column' => (string) {the related column}
        ), ...
    ),
    'one-to-many' => array(
        array(
            'table'          => (string) {the name of the table this relationship is for},
            'column'         => (string) {the column in the specified table},
            'related_table'  => (string) {the related table},
            'related_column' => (string) {the related column},
            'on_delete'      => (string) {the ON DELETE action: 'no_action', 'restrict', 'cascade', 'set_null', or 'set_default'},
            'on_update'      => (string) {the ON UPDATE action: 'no_action', 'restrict', 'cascade', 'set_null', or 'set_default'}
        ), ...
    ),
    'many-to-many' => array(
        array(
            'table'               => (string) {the name of the table this relationship is for},
            'column'              => (string) {the column in the specified table},
            'related_table'       => (string) {the related table},
            'related_column'      => (string) {the related column},
            'join_table'          => (string) {the table that joins the specified table to the related table},
            'join_column'         => (string) {the column in the join table that references 'column'},
            'join_related_column' => (string) {the column in the join table that references 'related_column'},
            'on_delete'           => (string) {the ON DELETE action: 'no_action', 'restrict', 'cascade', 'set_null', or 'set_default'},
            'on_update'           => (string) {the ON UPDATE action: 'no_action', 'restrict', 'cascade', 'set_null', or 'set_default'}
        ), ...
    )
)
}}}</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$table</h4>
<code>string</code><p>The table to return the relationships for</p></div>
<div class="subelement argument">
<h4>$relationship_type</h4>
<code>string</code><p>The type of relationship to return: <code>'one-to-one'</code>, <code>'many-to-one'</code>, <code>'one-to-many'</code>, <code>'many-to-many'</code></p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>An array of all relationships, or just the type specified - see method description for format</div>
</div></div>
</div>
<a id="method_getTables"></a><div class="element clickable method public method_getTables" data-toggle="collapse" data-target=".method_getTables .collapse">
<h2>Returns the tables in the current database</h2>
<pre>getTables(boolean | string $creation_order) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$creation_order</h4>
<code>boolean</code><code>string</code><p><code>TRUE</code> to return in a valid table creation order, or a table name to return that table and any tables that depend on it, in table creation order</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>The tables in the current database, all converted to lowercase</div>
</div></div>
</div>
<a id="method_setColumnInfoOverride"></a><div class="element clickable method public method_setColumnInfoOverride" data-toggle="collapse" data-target=".method_setColumnInfoOverride .collapse">
<h2>Allows overriding of column info</h2>
<pre>setColumnInfoOverride(array $column_info, string $table, string $column) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>Performs an array merge with the column info detected from the database.</p>

<p>To erase a whole table, set the <code>$column_info</code> to <code>NULL</code>. To erase a
column, set the <code>$column_info</code> for that column to <code>NULL</code>.</p>

<p>If the <code>$column_info</code> parameter is not <code>NULL</code>, it should be an
associative array containing one or more of the following keys. Please
see ::getColumnInfo() for a description of each.
 - <code>'type'</code>
 - <code>'placeholder'</code>
 - <code>'not_null'</code>
 - <code>'default'</code>
 - <code>'valid_values'</code>
 - <code>'max_length'</code>
 - <code>'min_value'</code>
 - <code>'max_value'</code>
 - <code>'decimal_places'</code>
 - <code>'auto_increment'</code>
 - <code>'comment'</code></p>

<p>The following keys may be set to <code>NULL</code>:
 - <code>'not_null'</code>
 - <code>'default'</code>
 - <code>'valid_values'</code>
 - <code>'max_length'</code>
 - <code>'min_value'</code>
 - <code>'max_value'</code>
 - <code>'decimal_places'</code>
 - <code>'comment'</code></p>

<p>The key <code>'auto_increment'</code> should be a boolean.</p>

<p>The <code>'type'</code> key should be one of:
 - <code>'blob'</code>
 - <code>'boolean'</code>
 - <code>'char'</code>
 - <code>'date'</code>
 - <code>'float'</code>
 - <code>'integer'</code>
 - <code>'text'</code>
 - <code>'time'</code>
 - <code>'timestamp'</code>
 - <code>'varchar'</code></p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$column_info</h4>
<code>array</code><p>The modified column info - see method description for format</p>
</div>
<div class="subelement argument">
<h4>$table</h4>
<code>string</code><p>The table to override</p></div>
<div class="subelement argument">
<h4>$column</h4>
<code>string</code><p>The column to override</p></div>
</div></div>
</div>
<a id="method_setKeysOverride"></a><div class="element clickable method public method_setKeysOverride" data-toggle="collapse" data-target=".method_setKeysOverride .collapse">
<h2>Allows overriding of key info.</h2>
<pre>setKeysOverride(array $keys, string $table, string $key_type) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>Replaces existing info, so be sure to provide full key info for type selected or all types.</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$keys</h4>
<code>array</code><p>The modified keys - see ::getKeys() for format</p>
</div>
<div class="subelement argument">
<h4>$table</h4>
<code>string</code><p>The table to override</p></div>
<div class="subelement argument">
<h4>$key_type</h4>
<code>string</code><p>The key type to override: <code>'primary'</code>, <code>'foreign'</code>, <code>'unique'</code></p>
</div>
</div></div>
</div>
<a id="method_checkForSingleColumnUniqueKey"></a><div class="element clickable method private method_checkForSingleColumnUniqueKey" data-toggle="collapse" data-target=".method_checkForSingleColumnUniqueKey .collapse">
<h2>Checks to see if a column is part of a single-column `UNIQUE` key</h2>
<pre>checkForSingleColumnUniqueKey(string $table, string $column) : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$table</h4>
<code>string</code><p>The table the column is located in</p></div>
<div class="subelement argument">
<h4>$column</h4>
<code>string</code><p>The column to check</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>boolean</code>If the column is part of a single-column unique key</div>
</div></div>
</div>
<a id="method_determineTableCreationOrder"></a><div class="element clickable method private method_determineTableCreationOrder" data-toggle="collapse" data-target=".method_determineTableCreationOrder .collapse">
<h2>Returns an ordered array of table names, in a valid table creation order</h2>
<pre>determineTableCreationOrder(string $filter_table) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$filter_table</h4>
<code>string</code><p>The only return this table and tables that rely on it</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>An array of table names</div>
</div></div>
</div>
<a id="method_fetchColumnInfo"></a><div class="element clickable method private method_fetchColumnInfo" data-toggle="collapse" data-target=".method_fetchColumnInfo .collapse">
<h2>Gets the column info from the database for later access</h2>
<pre>fetchColumnInfo(string $table) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$table</h4>
<code>string</code><p>The table to fetch the column info for</p></div>
</div></div>
</div>
<a id="method_fetchDB2ColumnInfo"></a><div class="element clickable method private method_fetchDB2ColumnInfo" data-toggle="collapse" data-target=".method_fetchDB2ColumnInfo .collapse">
<h2>Gets the column info from a DB2 database</h2>
<pre>fetchDB2ColumnInfo(string $table) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$table</h4>
<code>string</code><p>The table to fetch the column info for</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>The column info for the table specified - see ::getColumnInfo() for details</div>
</div></div>
</div>
<a id="method_fetchDB2Keys"></a><div class="element clickable method private method_fetchDB2Keys" data-toggle="collapse" data-target=".method_fetchDB2Keys .collapse">
<h2>Fetches the key info for a DB2 database</h2>
<pre>fetchDB2Keys() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>The keys arrays for every table in the database - see ::getKeys() for details</div>
</div></div>
</div>
<a id="method_fetchKeys"></a><div class="element clickable method private method_fetchKeys" data-toggle="collapse" data-target=".method_fetchKeys .collapse">
<h2>Gets the `PRIMARY KEY`, `FOREIGN KEY` and `UNIQUE` key constraints from the database</h2>
<pre>fetchKeys() : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="method_fetchMSSQLColumnInfo"></a><div class="element clickable method private method_fetchMSSQLColumnInfo" data-toggle="collapse" data-target=".method_fetchMSSQLColumnInfo .collapse">
<h2>Gets the column info from a MSSQL database</h2>
<pre>fetchMSSQLColumnInfo(string $table) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$table</h4>
<code>string</code><p>The table to fetch the column info for</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>The column info for the table specified - see ::getColumnInfo() for details</div>
</div></div>
</div>
<a id="method_fetchMSSQLKeys"></a><div class="element clickable method private method_fetchMSSQLKeys" data-toggle="collapse" data-target=".method_fetchMSSQLKeys .collapse">
<h2>Fetches the key info for an MSSQL database</h2>
<pre>fetchMSSQLKeys() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>The key info arrays for every table in the database - see ::getKeys() for details</div>
</div></div>
</div>
<a id="method_fetchMySQLColumnInfo"></a><div class="element clickable method private method_fetchMySQLColumnInfo" data-toggle="collapse" data-target=".method_fetchMySQLColumnInfo .collapse">
<h2>Gets the column info from a MySQL database</h2>
<pre>fetchMySQLColumnInfo(string $table) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$table</h4>
<code>string</code><p>The table to fetch the column info for</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>The column info for the table specified - see ::getColumnInfo() for details</div>
</div></div>
</div>
<a id="method_fetchMySQLKeys"></a><div class="element clickable method private method_fetchMySQLKeys" data-toggle="collapse" data-target=".method_fetchMySQLKeys .collapse">
<h2>Fetches the keys for a MySQL database</h2>
<pre>fetchMySQLKeys() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>The keys arrays for every table in the database - see ::getKeys() for details</div>
</div></div>
</div>
<a id="method_fetchOracleColumnInfo"></a><div class="element clickable method private method_fetchOracleColumnInfo" data-toggle="collapse" data-target=".method_fetchOracleColumnInfo .collapse">
<h2>Gets the column info from an Oracle database</h2>
<pre>fetchOracleColumnInfo(string $table) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$table</h4>
<code>string</code><p>The table to fetch the column info for</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>The column info for the table specified - see ::getColumnInfo() for details</div>
</div></div>
</div>
<a id="method_fetchOracleKeys"></a><div class="element clickable method private method_fetchOracleKeys" data-toggle="collapse" data-target=".method_fetchOracleKeys .collapse">
<h2>Fetches the key info for an Oracle database</h2>
<pre>fetchOracleKeys() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>The keys arrays for every table in the database - see ::getKeys() for details</div>
</div></div>
</div>
<a id="method_fetchPostgreSQLColumnInfo"></a><div class="element clickable method private method_fetchPostgreSQLColumnInfo" data-toggle="collapse" data-target=".method_fetchPostgreSQLColumnInfo .collapse">
<h2>Gets the column info from a PostgreSQL database</h2>
<pre>fetchPostgreSQLColumnInfo(string $table) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$table</h4>
<code>string</code><p>The table to fetch the column info for</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>The column info for the table specified - see ::getColumnInfo() for details</div>
</div></div>
</div>
<a id="method_fetchPostgreSQLKeys"></a><div class="element clickable method private method_fetchPostgreSQLKeys" data-toggle="collapse" data-target=".method_fetchPostgreSQLKeys .collapse">
<h2>Fetches the key info for a PostgreSQL database</h2>
<pre>fetchPostgreSQLKeys() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>The keys arrays for every table in the database - see ::getKeys() for details</div>
</div></div>
</div>
<a id="method_fetchSQLiteColumnInfo"></a><div class="element clickable method private method_fetchSQLiteColumnInfo" data-toggle="collapse" data-target=".method_fetchSQLiteColumnInfo .collapse">
<h2>Gets the column info from a SQLite database</h2>
<pre>fetchSQLiteColumnInfo(string $table) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$table</h4>
<code>string</code><p>The table to fetch the column info for</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>The column info for the table specified - see ::getColumnInfo() for details</div>
</div></div>
</div>
<a id="method_fetchSQLiteKeys"></a><div class="element clickable method private method_fetchSQLiteKeys" data-toggle="collapse" data-target=".method_fetchSQLiteKeys .collapse">
<h2>Fetches the key info for an SQLite database</h2>
<pre>fetchSQLiteKeys() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>The keys arrays for every table in the database - see ::getKeys() for details</div>
</div></div>
</div>
<a id="method_findManyToManyRelationships"></a><div class="element clickable method private method_findManyToManyRelationships" data-toggle="collapse" data-target=".method_findManyToManyRelationships .collapse">
<h2>Finds many-to-many relationship for the table specified</h2>
<pre>findManyToManyRelationships(string $table) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$table</h4>
<code>string</code><p>The table to find the relationships on</p></div>
</div></div>
</div>
<a id="method_findOneToManyRelationships"></a><div class="element clickable method private method_findOneToManyRelationships" data-toggle="collapse" data-target=".method_findOneToManyRelationships .collapse">
<h2>Finds one-to-many relationship for the table specified</h2>
<pre>findOneToManyRelationships(string $table) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$table</h4>
<code>string</code><p>The table to find the relationships on</p></div>
</div></div>
</div>
<a id="method_findRelationships"></a><div class="element clickable method private method_findRelationships" data-toggle="collapse" data-target=".method_findRelationships .collapse">
<h2>Finds the one-to-one, many-to-one, one-to-many and many-to-many relationships in the database</h2>
<pre>findRelationships() : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="method_findStarToOneRelationships"></a><div class="element clickable method private method_findStarToOneRelationships" data-toggle="collapse" data-target=".method_findStarToOneRelationships .collapse">
<h2>Finds one-to-one and many-to-one relationship for the table specified</h2>
<pre>findStarToOneRelationships(string $table) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$table</h4>
<code>string</code><p>The table to find the relationships on</p></div>
</div></div>
</div>
<a id="method_isJoiningTable"></a><div class="element clickable method private method_isJoiningTable" data-toggle="collapse" data-target=".method_isJoiningTable .collapse">
<h2>Determines if a table is a joining table</h2>
<pre>isJoiningTable(string $table) : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$table</h4>
<code>string</code><p>The table to check</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>boolean</code>If the table is a joining table</div>
</div></div>
</div>
<a id="method_makeCachePrefix"></a><div class="element clickable method private method_makeCachePrefix" data-toggle="collapse" data-target=".method_makeCachePrefix .collapse">
<h2>Creates a unique cache prefix to help prevent cache conflicts</h2>
<pre>makeCachePrefix() : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>The cache prefix to use</div>
</div></div>
</div>
<a id="method_mergeColumnInfo"></a><div class="element clickable method private method_mergeColumnInfo" data-toggle="collapse" data-target=".method_mergeColumnInfo .collapse">
<h2>Merges the column info with the column info override</h2>
<pre>mergeColumnInfo() : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="method_mergeKeys"></a><div class="element clickable method private method_mergeKeys" data-toggle="collapse" data-target=".method_mergeKeys .collapse">
<h2>Merges the keys with the keys override</h2>
<pre>mergeKeys() : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<h3>
<i class="icon-custom icon-property"></i> Properties</h3>
<a id="property_cache"> </a><div class="element clickable property private property_cache" data-toggle="collapse" data-target=".property_cache .collapse">
<h2>The place to cache to</h2>
<pre>$cache : <a href="../classes/fCache.html">\fCache</a></pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="property_cache_prefix"> </a><div class="element clickable property private property_cache_prefix" data-toggle="collapse" data-target=".property_cache_prefix .collapse">
<h2>The cache prefix to use for cache entries</h2>
<pre>$cache_prefix : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="property_column_info"> </a><div class="element clickable property private property_column_info" data-toggle="collapse" data-target=".property_column_info .collapse">
<h2>The cached column info</h2>
<pre>$column_info : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="property_column_info_override"> </a><div class="element clickable property private property_column_info_override" data-toggle="collapse" data-target=".property_column_info_override .collapse">
<h2>The column info to override</h2>
<pre>$column_info_override : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="property_database"> </a><div class="element clickable property private property_database" data-toggle="collapse" data-target=".property_database .collapse">
<h2>A reference to an instance of the fDatabase class</h2>
<pre>$database : <a href="../classes/fDatabase.html">\fDatabase</a></pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="property_databases"> </a><div class="element clickable property private property_databases" data-toggle="collapse" data-target=".property_databases .collapse">
<h2>The databases on the current database server</h2>
<pre>$databases : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="property_keys"> </a><div class="element clickable property private property_keys" data-toggle="collapse" data-target=".property_keys .collapse">
<h2>The cached key info</h2>
<pre>$keys : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="property_keys_override"> </a><div class="element clickable property private property_keys_override" data-toggle="collapse" data-target=".property_keys_override .collapse">
<h2>The key info to override</h2>
<pre>$keys_override : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="property_merged_column_info"> </a><div class="element clickable property private property_merged_column_info" data-toggle="collapse" data-target=".property_merged_column_info .collapse">
<h2>The merged column info</h2>
<pre>$merged_column_info : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="property_merged_keys"> </a><div class="element clickable property private property_merged_keys" data-toggle="collapse" data-target=".property_merged_keys .collapse">
<h2>The merged key info</h2>
<pre>$merged_keys : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="property_relationships"> </a><div class="element clickable property private property_relationships" data-toggle="collapse" data-target=".property_relationships .collapse">
<h2>The relationships in the database</h2>
<pre>$relationships : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="property_tables"> </a><div class="element clickable property private property_tables" data-toggle="collapse" data-target=".property_tables .collapse">
<h2>The tables in the database</h2>
<pre>$tables : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
</div>
</div>
</div>
</div>
<div class="row"><footer class="span12">
            Template is built using <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap 2</a> and icons provided by <a href="http://glyphicons.com/">Glyphicons</a>.<br>
            Documentation is powered by <a href="http://www.phpdoc.org/">phpDocumentor 2.0.0a10</a> and<br>
            generated on 2012-10-22T20:55:59-07:00.<br></footer></div>
</div>
</body>
</html>
